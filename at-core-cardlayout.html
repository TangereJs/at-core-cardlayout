<link rel="import" href="../tangere/tangere.html">
<link rel="import" href="at-core-cardlayout-desktop.html">
<link rel="import" href="at-core-cardlayout-mobile.html">

<dom-module id="at-core-cardlayout">

  <template>
    <style>
      :host {
        width: 100%;
        display: block;
      }
    </style>
    <content></content>
  </template>


  <script>
    Polymer({
      is: "at-core-cardlayout",
      properties: {
        cardLayoutData: {
          type: String,
          value: ""
        },
        // sizing Container
        sizingContainer: {
          type: Object
        }
      },

      clear: function () {
        return this._cards.clear();
      },

      get cardsContainer() {       
        return this._cards.$.cards;
      },

      append: function (Elements) {
        if (!this._cards.sizingContainer) this._cards.sizingContainer = this.sizingContainer;
        return this._cards.append(Elements);
      },

      appendContainer: function (options) {
        debugger;
        if (!this._cards.sizingContainer) this._cards.sizingContainer = this.sizingContainer;
        return container;
      },

      updateLayout: function (options) {
        if (!this._cards.sizingContainer) this._cards.sizingContainer = this.sizingContainer;
        return this._cards.updateLayout(options);
      },

      detached: function () {
        
      },


      reset: function () {
        debugger;
      },

      attached: function () {
        
      },

      ready: function (options) {

        var container = "at-core-cardlayout-desktop";
        if (Tangere.session.browser.mobile || Tangere.session.browser.extension) container = "at-core-cardlayout-mobile";

        var cards = document.createElement(container);       
        Polymer.dom(this).appendChild(cards);
        Polymer.dom.flush();
        this._cards = cards;
      }
    });
  </script>
</dom-module>
