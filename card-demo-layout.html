<link rel="import" href="../tangere/tangere.html">
<link rel="import" href="at-core-cardlayout.html">
<link rel="import" href="polymer-ipsum.html">

<dom-module id="card-demo-layout">
  <style>
    at-core-cardlayout {
      border: 1px solid blue;
    }
  </style>
    <template>
        <at-core-cardlayout id="cardLayout" masonry></at-core-cardlayout>
    </template>
</dom-module>
<script>
    Polymer({
        is:"card-demo-layout",
        properties: {
            elementCount: {
                type: Number,
                value: 30
             }
        },
        ready: function (options) {
            var newCards = [];
            this.i = 0;
            setTimeout(this.addCard.bind(this), 500);
        },
        addCard: function () {
            var i = this.i++;
            var newCard = document.createElement("polymer-ipsum");
            newCard.cardPrefix = i+1;
            newCard.chars = ((i % 4) + 1) * 50;
            newCard.className = "card";

            console.log("before " + i);
            this.$.cardLayout.append(newCard);
            console.log("after " + i);

            if (i < this.elementCount) {
                setTimeout(this.addCard.bind(this), 500);
            }
        }
    });
</script>

